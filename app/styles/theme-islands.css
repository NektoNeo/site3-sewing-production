/* P12: Light Islands - Светлые острова для визуальной вариативности */

:root {
  /* Базовые поверхности */
  --surface-0: #0a0a0a; /* Темный базовый */
  --surface-1: #1a1a2e; /* Чуть светлее */
  --surface-2: #16213e; /* Светлый "остров" */

  /* Текст для разных поверхностей */
  --text-on-surface-0: #ffffff;
  --text-on-surface-1: #f0f0f0;
  --text-on-surface-2: #e0e0e0;

  /* Мягкие тени */
  --shadow-soft: 0 4px 12px rgba(0, 0, 0, 0.1);
  --shadow-medium: 0 8px 16px rgba(0, 0, 0, 0.15);

  /* Границы */
  --border-subtle: 1px solid rgba(139, 92, 246, 0.1);
  --border-light: 1px solid rgba(139, 92, 246, 0.2);
}

/* Базовый темный стиль */
.dark-island {
  background: var(--surface-0);
  color: var(--text-on-surface-0);
}

/* Средне-темный остров */
.medium-island {
  background: var(--surface-1);
  color: var(--text-on-surface-1);
  border-top: var(--border-subtle);
  border-bottom: var(--border-subtle);
}

/* Светлый остров */
.light-island {
  background: var(--surface-2);
  color: var(--text-on-surface-2);
  border-top: var(--border-light);
  border-bottom: var(--border-light);
  position: relative;

  /* Градиентные переходы */
  &::before {
    content: '';
    position: absolute;
    top: -1px;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(139, 92, 246, 0.3) 50%,
      transparent
    );
  }

  &::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(236, 72, 153, 0.3) 50%,
      transparent
    );
  }
}

/* CTA блок после таблиц */
.cta-island {
  background: linear-gradient(135deg, var(--surface-1) 0%, var(--surface-2) 100%);
  padding: 3rem 2rem;
  margin: 4rem 0;
  border-radius: 1rem;
  box-shadow: var(--shadow-soft);
  border: var(--border-subtle);

  /* Оптимизация производительности */
  contain: layout style paint;
  will-change: auto;
}

/* Карточки портфолио */
.portfolio-card-light {
  background: var(--surface-2);
  border: var(--border-light);
  box-shadow: var(--shadow-soft);
  transition: transform 0.2s ease, box-shadow 0.2s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
  }
}

/* FAQ блок */
.faq-island {
  background: var(--surface-1);
  padding: 2rem;
  border-radius: 0.75rem;
  border: var(--border-subtle);

  /* Аккордеон внутри */
  .faq-item {
    background: rgba(10, 10, 10, 0.3);
    margin-bottom: 1rem;
    padding: 1rem;
    border-radius: 0.5rem;
    border: 1px solid rgba(139, 92, 246, 0.05);
  }
}

/* Оптимизация для секций вне viewport */
.section-island {
  content-visibility: auto;
  contain-intrinsic-size: 0 500px;

  /* Ленивая загрузка для тяжелых секций */
  &[data-lazy="true"] {
    min-height: 500px;
    background: var(--surface-0);
  }
}

/* Контрастность текста (WCAG AA) */
.light-island {
  h2, h3, h4 {
    color: #ffffff;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  }

  p, span {
    color: #e0e0e0;
  }

  a {
    color: #a78bfa;

    &:hover {
      color: #c4b5fd;
    }
  }
}

/* Адаптивность */
@media (max-width: 768px) {
  .light-island,
  .medium-island {
    padding: 2rem 1rem;
  }

  .cta-island {
    margin: 2rem 0;
    border-radius: 0.5rem;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .portfolio-card-light,
  .faq-item {
    transition: none;
  }
}